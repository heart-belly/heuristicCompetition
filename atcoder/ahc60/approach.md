# rank(405)
# 赛题名称
## [Ice Cream Collection](https://atcoder.jp/contests/ahc060/tasks/ahc060_a)
# 赛题描述
## 在这个问题中，你扮演一个冰淇淋制作者，在一个由顶点和边组成的连通无向图中移动。图中有两种顶点：冰淇淋商店（顶点0到K-1）：用于交付冰淇淋字符串，每个商店有一个库存集合，包含不同的字符串。冰淇淋树（顶点K到N-1）：提供冰淇淋口味，初始均为香草口味（W），但可以通过行动2变为草莓口味（R）。你从顶点0（一个商店）开始，手持一个空蛋筒（字符串）。允许的行动包括：行动1：移动到相邻顶点。如果顶点是树，则收获当前口味（W或R）并添加到蛋筒字符串末尾；如果顶点是商店，则将当前蛋筒字符串添加到该商店的库存集合，然后清空蛋筒。移动时不能直接返回上一个行动1的起始顶点。行动2：仅在当前位置是香草树（W）时，将其变为草莓树（R）。
# 得分函数
## 在规定的步数之内，使得所有商店的不同冰淇淋字符串总数越多越好
![得分函数](./p1.png)
# 样例展示(我的解-version1）
![样例展示](./p2.png)
# 样例展示(我的解-version2）
![样例展示](./p3.png)
# 解题思路
## 本赛是一个经典的贪心+启发的优化题，可以作为优化赛题的模板题，首先先抽象出问题本质，就是成对括号消除问题。再根据贪心的构造一些合法解，比如成对消除序列或者树结构序列等方式来解决。我采用的是成对消除序列的方法，有一个很大的弊端就是解的质量特别差，导致后面的启发后的结果不如树结构序列的贪心效果好。


